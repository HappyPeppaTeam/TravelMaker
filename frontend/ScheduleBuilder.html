<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="./src/images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./src/images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./src/images/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="./src/images/favicon_io/site.webmanifest">



    <title>ScheduleBuilder</title>
    <!-- bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

    <!-- bootstrap icon CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <!-- navbar css -->
    <link rel="stylesheet" href="./src/css/navbar.css">
    <!-- sidebar css -->
    <link rel="stylesheet" href="./src/css/sidebar.css">
    <!-- sidebar css -->
    <link rel="stylesheet" href="./src/css/scheduleStyles.css">

    <!-- FullCalendar -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/bootstrap5@6.1.8/index.global.min.js"></script>
</head>

<body class="bg-blue-1">

    <!-- navbar -->
    <nav class="navbar navbar-expand-lg bg-main px-2 shadow">
        <div class="container-fluid">
            <a class="navbar-brand me-auto" href="#"><img src="./src/images/logo.png" style="height: 70px" alt="" /></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <a class="ms-auto me-3 d-none d-lg-block" href="#"><img src="./src/images/dark-mode.png"
                        style="height: 40px" alt="" /></a>
                <ul class="navbar-nav py-3">
                    <li class="nav-item">
                        <a class="nav-link" href="#">註冊</a>
                    </li>
                    <li class="nav-item ms-lg-2">
                        <a class="nav-link" href="#">登入</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    <div class="container-lg shadow p-0 bg-white" id="bodyContainer">
        <!-- <div class="d-flex" id="content-container"> -->
        <div class="d-flex flex-nowrap row container-fluid m-0 p-0" id="contentContainer">

            <!-- side bar -->
            <div class="col-auto col-md-3 col-xl-2 d-none d-sm-block p-0">
                <div class="d-flex flex-column flex-shrink-0 p-3 bg-blue-1 align-items-center" id="sidebar-container"
                    style="height: 100%; min-height: calc(100vh - 70px);">

                    <ul class="nav nav-pills flex-column mb-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link text-white d-flex align-items-center sidebar-link">
                                <i class="bi bi-person-vcard-fill"></i>
                                <span class="d-none d-sm-inline px-2">
                                    基本資料
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link text-white d-flex align-items-center sidebar-link">
                                <i class="bi bi-envelope-fill"></i>
                                <span class="d-none d-sm-inline px-2">
                                    我的信箱
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link text-white d-flex align-items-center sidebar-link">
                                <i class="bi bi-calendar-week"></i>
                                <span class="d-none d-sm-inline px-2">
                                    我的行程
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link text-white d-flex align-items-center sidebar-link">
                                <i class="bi bi-image"></i>
                                <span class="d-none d-sm-inline px-2">
                                    我的相簿
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#my-collection-submenu"
                                class="nav-link text-white d-flex align-items-center sidebar-link"
                                data-bs-toggle="collapse" role="button">
                                <i class="bi bi-star-fill"></i>
                                <span class="d-none d-sm-inline px-2">
                                    我的收藏
                                </span>
                            </a>

                            <div class="collapse text-white" id="my-collection-submenu">
                                <ul style="list-style-type: none; padding: 0;"
                                    class="d-flex align-items-center flex-column">
                                    <li>
                                        <a href="#" class="nav-link px-0">
                                            <i class="bi bi-stack"></i>
                                            <span class="d-none d-sm-inline ms-1">全部</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="nav-link px-0">
                                            <i class="bi bi-calendar-heart"></i>
                                            <span class="d-none d-sm-inline ms-1">行程</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="nav-link px-0">
                                            <i class="bi bi-camera"></i>
                                            <span class="d-none d-sm-inline ms-1">景點</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="nav-link px-0 ">
                                            <i class="bi bi-cup-straw"></i>
                                            <span class="d-none d-sm-inline ms-1">餐廳</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- main content -->
            <div class="flex-fill px-0 justify-content-center" id="content">
                <div class="m-5">
                    <div class="d-flex align-items-end">
                        <a href="" class="rm-link-style">
                            <div class="h1">我的行程</div>
                        </a>

                        <div class="h5 ms-auto active-text add-new-journey"><i class="bi bi-plus-lg"></i><span class="ms-1">建立行程</span>
                        </div>
                    </div>
                    <hr>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center dropdown"
                                type="button" id="journey1">

                                <div class="rounded shadow"
                                    style="background-image: url(./src/images/street.jpg); background-size: cover; height: 200px; width: 100%;">
                                    <div class="overlay rounded d-flex justify-content-center align-items-center position-relative"
                                        id="overlay">
                                        <div class="position-absolute top-0 end-0 p-1 m-3 rounded" id="moreDetail"
                                            style="height: 2rem; width: 2rem;">
                                            <i
                                                class="bi bi-three-dots text-secondary fs-5 position-absolute top-50 start-50 translate-middle"></i>
                                        </div>
                                        <div>金瓜石之旅</div>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center">
                                <div class="rounded shadow"
                                    style="background-image: url(./src/images/street.jpg); background-size: cover; height: 200px; width: 100%;">
                                    <div class="overlay rounded d-flex justify-content-center align-items-center"
                                        id="overlay">
                                        <div>金瓜石之旅</div>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center">
                                <div class="rounded shadow"
                                    style="background-image: url(./src/images/street.jpg); background-size: cover; height: 200px; width: 100%;">
                                    <div class="overlay rounded d-flex justify-content-center align-items-center"
                                        id="overlay">
                                        <div>金瓜石之旅</div>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center">
                                <div class="rounded shadow"
                                    style="background-image: url(./src/images/street.jpg); background-size: cover; height: 200px; width: 100%;">
                                    <div class="overlay rounded d-flex justify-content-center align-items-center"
                                        id="overlay">
                                        <div>金瓜石之旅</div>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center">
                                <div class="rounded shadow"
                                    style="background-image: url(./src/images/street.jpg); background-size: cover; height: 200px; width: 100%;">
                                    <div class="overlay rounded d-flex justify-content-center align-items-center"
                                        id="overlay">
                                        <div>金瓜石之旅</div>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center">
                                <div class="rounded shadow"
                                    style="background-image: url(./src/images/street.jpg); background-size: cover; height: 200px; width: 100%;">
                                    <div class="overlay rounded d-flex justify-content-center align-items-center"
                                        id="overlay">
                                        <div>金瓜石之旅</div>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center">
                                <div class="rounded shadow"
                                    style="background-image: url(./src/images/street.jpg); background-size: cover; height: 200px; width: 100%;">
                                    <div class="overlay rounded d-flex justify-content-center align-items-center"
                                        id="overlay">
                                        <div>金瓜石之旅</div>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center">
                                <div class="rounded shadow"
                                    style="background-image: url(./src/images/street.jpg); background-size: cover; height: 200px; width: 100%;">
                                    <div class="overlay rounded d-flex justify-content-center align-items-center"
                                        id="overlay">
                                        <div>金瓜石之旅</div>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center">
                                <div class="rounded shadow"
                                    style="background-image: url(./src/images/street.jpg); background-size: cover; height: 200px; width: 100%;">
                                    <div class="overlay rounded d-flex justify-content-center align-items-center"
                                        id="overlay">
                                        <div>金瓜石之旅</div>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="col-md-6 col-lg-4 col-xl-3 p-2 d-flex align-items-center justify-content-center">
                                <div style="width: 100%; height: 200px;  background-color: gray;"
                                    class="d-flex align-items-center justify-content-center rounded shadow add-new-journey"
                                    id="addNewBox">
                                    <i class="bi bi-plus-lg" style="font-size: 2rem; color: #2F4E63"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>



    <!-- footer -->
    <footer class="bg-main py-3 shadow mt-3">
        <p class="mb-0 text-center text-white">
            © 2023 Travel Maker All Rights Reserved.
        </p>
    </footer>

    <!-- rwd sidebar -->
    <div class="container-fluid bg-blue-1 shadow fixed-bottom d-flex d-sm-none align-items-center"
        style="height: 50px;">
        <div class="w-100">
            <ul class="d-flex rm-ul-style justify-content-around" style="list-style-type: none;" id="sidebarBottom">
                <li>
                    <a href="#" class="nav-link text-white">
                        <i class="bi bi-person-vcard-fill"></i>
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link text-white">
                        <i class="bi bi-envelope-fill"></i>
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link text-white">
                        <i class="bi bi-calendar-week"></i>
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link text-white">
                        <i class="bi bi-image"></i>
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link text-white">
                        <i class="bi bi-star-fill"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>


    <!-- Journey Modal -->
    <div class="modal fade" id="journeyModal" tabindex="-1" aria-labelledby="journeyModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-xl modal-fullscreen-lg-down">
            <div class="modal-content">
                <div class="modal-header"
                    style="height: 200px; background-image: url(./src/images/street.jpg); background-size: cover;">
                    <h1 class="modal-title fs-5 align-self-end text-white" id="journeyModalLabel">Modal title</h1>
                    <button type="button" class="btn-close btn-close-white align-self-start" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="journeyRegView" class="">
                        <div id="contentHeader" class="d-flex align-items-center">
                            <h1>Model</h1>
                            <div class="h5 ms-auto active-text"><i class="bi bi-pencil-square"></i><span
                                    class="ms-2">編輯</span></div>
                        </div>
                        <div id="scheduleContainer" class="p-3 rounded shadow" style="width: 100%; min-height: 500px;">
    
                        </div>
                        <div id="map-container" style="width: 100%; height: 500px; border: lightblue solid;" class="mt-3">
                        </div>
    
                        <div class="h2 mt-3">備註</div>
                        <div id="text-content" class="mt-3">
                            Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolorem, recusandae? Veniam, error
                            iure et voluptas quae enim! Amet consequuntur dolorum odit, vero nulla mollitia suscipit libero,
                            iste ullam, inventore quisquam?
                            Saepe doloremque labore rem cum reprehenderit totam, maxime eaque. Repudiandae maiores eligendi
                        </div>
                        <div class="h2 mt-3">相片</div>
                        <div id="image-container" class="mt-3 image-overflow rounded shadow"
                            style="width: 100%; height: 200px;">
                            <img src="./src/images/street.jpg" alt="" class="h-100">
                            <img src="./src/images/street.jpg" alt="" class="h-100">
                            <img src="./src/images/street.jpg" alt="" class="h-100">
                            <img src="./src/images/street.jpg" alt="" class="h-100">
                            <img src="./src/images/street.jpg" alt="" class="h-100">
                            <img src="./src/images/street.jpg" alt="" class="h-100">
                            <img src="./src/images/street.jpg" alt="" class="h-100">
                            <img src="./src/images/street.jpg" alt="" class="h-100">
                        </div>
                    </div>

                    <!-- <div id="journeyEditView" class="edit-view d-block">
                        <form action="">
                            <div class="mb-3">
                                <label for="inputJourneyName" class="form-label">行程名稱</label>
                                <input type="text" class="form-control" id="inputJourneyName" aria-describedby="inputJourneyName"
                                  value="金瓜石之旅" />
                            </div>
                            <div class="mb-3 container-fluid bg-light rounded shadow" style="min-height: 500px">
                                <div id="callendarEdit" class="p-3"></div>
                            </div>
                        </form>
                    </div> -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>


    <!-- click menu -->
    <div class="dropdown-menu" id="journeyDropdown">
        <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#journeyModal"><i
                class="bi bi-arrow-up-right-square"></i><span class="ps-1">開啟</span></a>
        <a class="dropdown-item" href="#"><i class="bi bi-pencil-square"></i><span class="ps-1">編輯</span></a>
        <a class="dropdown-item" href="#"><i class="bi bi-pencil"></i><span class="ps-1">重新命名</span></a>
        <a class="dropdown-item" href="#"><i class="bi bi-image"></i><span class="ps-1">更改封面圖片</span></a>
        <a class="dropdown-item" href="#"><i class="bi bi-trash3"></i><span class="ps-1">刪除</span></a>
    </div>


    <div class="image-modal d-none" id="imageModal">
        <div data-bs-theme="dark" id="closeButton">
            <button type="button" class="btn-close" aria-label="Close"></button>
        </div>
        <div class="d-flex container-fluid justify-content-center align-items-center h-100">
            <img src="./src/images/street.jpg" alt="" style="height: 500px" class="">
        </div>
    </div>

</body>

<script>



    window.onload = function () {
        const journeyElement = document.getElementById('journey1');
        const dropdownMenu = document.getElementById('journeyDropdown');
        const detail = document.getElementById('moreDetail');
        const journeyModal = document.getElementById('journeyModal');

        var myModel = new bootstrap.Modal(document.getElementById('journeyModal'), {
            keyboard: false
        });
        
        

        // myModel.toggle();
        // myModel.hide();

        journeyElement.addEventListener('click', function (e) {
            myModel.toggle();
        });

        journeyModal.addEventListener('shown.bs.modal', function(e){
            schedule.render();
            // journeyObj.render();
        })

        detail.addEventListener('click', function (e) {
            e.preventDefault();
            e.stopPropagation();
            dropdownMenu.style.top = event.clientY + 'px';
            dropdownMenu.style.left = event.clientX + 'px';
            dropdownMenu.classList.add('show');
        })


        document.addEventListener('click', function (event) {
            if (!dropdownMenu.contains(event.target)) {
                // Hide the dropdown menu if a click occurs outside of it
                dropdownMenu.classList.remove('show');
            }
        });


        const scheduleContainer = document.getElementById('scheduleContainer');

        var schedule = new FullCalendar.Calendar(scheduleContainer, {
            themeSystem: 'bootstrap5',
            initialView: 'weekView', // the name of a generic view
            initialDate: '2023-05-13T08:00:00',
            headerToolbar: {
                // end: 'list'
                left: "prev,next today", // 左邊放置上一頁、下一頁和今天
                center: "title", // 中間放置標題
                end: "weekView listAll" // 右邊放置月、周、天
            },
            views: {
                weekView: {
                    type: "timeGridWeek"
                },
                listAll: {
                    type: "list",
                    duration: { years: 1 }
                }

            },
            events: [
                {
                    title: '勝利早點',
                    start: '2023-05-13T08:00:00', // Start date and time in ISO format
                    end: '2023-05-13T09:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                    description: 'Breakfast yum yum yum yum',
                    editable: true
                },
                {
                    title: '成功大學',
                    start: '2023-05-13T09:00:00', // Start date and time in ISO format
                    end: '2023-05-13T10:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: '安平古堡',
                    start: '2023-05-13T11:00:00', // Start date and time in ISO format
                    end: '2023-05-13T14:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: '赤崁樓',
                    start: '2023-05-13T15:00:00', // Start date and time in ISO format
                    end: '2023-05-13T16:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: '晚餐',
                    start: '2023-05-13T18:00:00', // Start date and time in ISO format
                    end: '2023-05-13T19:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: 'xx大飯店',
                    start: '2023-05-13T19:00:00', // Start date and time in ISO format
                    end: '2023-05-13T24:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: '吃早餐',
                    start: '2023-05-14T08:00:00', // Start date and time in ISO format
                    end: '2023-05-14T09:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: '台南市立美術館',
                    start: '2023-05-14T09:00:00', // Start date and time in ISO format
                    end: '2023-05-14T12:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: 'New Pasta',
                    start: '2023-05-14T12:00:00', // Start date and time in ISO format
                    end: '2023-05-14T13:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: '奇美博物館',
                    start: '2023-05-14T13:00:00', // Start date and time in ISO format
                    end: '2023-05-14T16:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: '府城牛肉湯',
                    start: '2023-05-14T17:00:00', // Start date and time in ISO format
                    end: '2023-05-14T18:00:00',   // End date and time in ISO format
                    // You can add more properties as needed, such as 'color', 'url', etc.
                },
                {
                    title: 'oo大飯店',
                    start: '2023-05-14T18:00:00', // Start date and time in ISO format
                    end: '2023-05-14T24:00:00',   // End date and time in ISO format
                    // You can add more proprties as needed, such as 'color', 'url', etc.
                },
                {
                    title: '吃早餐',
                    start: '2023-05-15T08:00:00', // Start date and time in ISO format
                    end: '2023-05-15T09:00:00',   // End date and time in ISO format
                    // You can add more proprties as needed, such as 'color', 'url', etc.
                },
                {
                    title: '回程',
                    start: '2023-05-15T09:00:00', // Start date and time in ISO format
                    end: '2023-05-15T12:00:00',   // End date and time in ISO format
                    // You can add more proprties as needed, such as 'color', 'url', etc.
                },
                

                
            ]


        });


       
        const addNewJourneyClass = document.getElementsByClassName('add-new-journey');
        for (var i=0; i<addNewJourneyClass.length; i++) {
            addNewJourneyClass[i].addEventListener('click', function(event){
                event.preventDefault();
                location.href = "./NewJourney.html";
            })
        }

        // const addNewJourney = document.getElementById('addNewBox');



        
        // addNewJourney.addEventListener('click', function(event){
        //     event.preventDefault();
        //     location.href = "./NewJourney.html";
        // });
        

        // const editJourney = document.getElementById('callendarEdit');
        // var journeyObj = new FullCalendar.Calendar(editJourney, {
        //     themeSystem: 'bootstrap5',
        //     initialView: 'weekView', // the name of a generic view
        //     initialDate: '2023-05-13T08:00:00',
        //     headerToolbar: {
        //         // end: 'list'
        //         left: "prev,next today", // 左邊放置上一頁、下一頁和今天
        //         center: "title", // 中間放置標題
        //         end: "weekView listAll" // 右邊放置月、周、天
        //     },
        //     views: {
        //         weekView: {
        //             type: "timeGridWeek"
        //         },
        //         listAll: {
        //             type: "list",
        //             duration: { years: 1 }
        //         }

        //     },
        // }) 


    }



</script>

</html>